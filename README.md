# üìù –¢—É–î—É: –±–µ–∫–µ–Ω–¥ –∏ Telegram-–±–æ—Ç

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
DJANGO_SECRET_KEY=secret
DJANGO_DEBUG=1
POSTGRES_DB=todo
POSTGRES_USER=todo
POSTGRES_PASSWORD=todo
TELEGRAM_BOT_TOKEN=PUT_YOUR_TOKEN_HERE
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:

```bash
docker compose up --build
```

3. –°–µ—Ä–≤–∏—Å—ã:
- –±–µ–∫–µ–Ω–¥: `http://localhost:8000`
- –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `http://localhost:8000/admin`
- API: `http://localhost:8000/api/tasks/`, `http://localhost:8000/api/categories/`

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

- **Django + DRF**: API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —á—Ç–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–¥–∞—á –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∞ —Ç–∞–∫–∂–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.
- **PostgreSQL**: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –∑–∞–¥–∞—á.
- **Redis**: –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Celery.
- **Celery worker + Celery beat**: –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram.
- **Aiogram + Aiogram-Dialog**: Telegram-–±–æ—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º –∑–∞–¥–∞—á –∏ –¥–∏–∞–ª–æ–≥–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è.
- **uv + pyproject.toml**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ Python –±–µ–∑ `requirements.txt`.
- **Docker Compose**: –∑–∞–ø—É—Å–∫ `db`, `redis`, `backend`, `worker`, `beat`, `bot`.

## ‚ú® –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
docker compose exec backend uv run python manage.py test
docker compose exec backend uv run python manage.py createsuperuser
```

## üîé –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:

```bash
docker compose exec backend uv run python manage.py test
```

## ‚ÑπÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É `/start` ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏.
2. **–ú–æ–∏ –∑–∞–¥–∞—á–∏** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (–ø–æ 10 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É).
3. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É** ‚Äî –ø–æ—à–∞–≥–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ:
   - –ù–∞–∑–≤–∞–Ω–∏–µ
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è
   - –î–∞—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç: `DD.MM.YYYY`)
   - –í—Ä–µ–º—è (—Ñ–æ—Ä–º–∞—Ç: `HH:MM`)
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–¥–∞—á—É –≤ —Å–ø–∏—Å–∫–µ ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏:
   - **–ò–∑–º–µ–Ω–∏—Ç—å** ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –¥–∞—Ç–∞, –≤—Ä–µ–º—è)
   - **–£–¥–∞–ª–∏—Ç—å** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

## üõé –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Celery Beat –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –¥–ª—è –∑–∞–¥–∞—á —Å –Ω–∞—Å—Ç—É–ø–∏–≤—à–∏–º `due_date`.

### ü§∑‚Äç‚ôÇÔ∏è –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω –∏ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç:
   ```bash
   docker compose ps
   ```
   –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã: `backend`, `worker`, `beat`, `bot`, `db`, `redis`.

2. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É —Å –¥–µ–¥–ª–∞–π–Ω–æ–º –≤ –ø—Ä–æ—à–ª–æ–º/–±–ª–∏–∂–∞–π—à–µ–º –±—É–¥—É—â–µ–º —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∏–ª–∏ API.

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Celery worker:
   ```bash
   docker compose logs worker beat --follow
   ```

4. –ü—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –¥–µ–¥–ª–∞–π–Ω–∞ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram.

### üîß –ï—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–∏—Å–∞–ª –±–æ—Ç—É**: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–∏—à–∏—Ç–µ `/start` –±–æ—Ç—É —Ö–æ—Ç—è –±—ã —Ä–∞–∑.
- **–ó–∞–¥–∞—á–∞ —É–∂–µ –ø–æ–º–µ—á–µ–Ω–∞**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–µ `is_notified` –≤ –∞–¥–º–∏–Ω–∫–µ (`http://localhost:8000/admin`).
- **Celery –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `worker` –∏ `beat` –Ω–∞ –æ—à–∏–±–∫–∏.

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ backend: `backend/pyproject.toml`
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–æ—Ç–∞: `bot/pyproject.toml`
- –í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `uv`, –Ω–æ —Ç–æ—Ç –∂–µ —Ñ–æ—Ä–º–∞—Ç `pyproject.toml` —Å–æ–≤–º–µ—Å—Ç–∏–º –∏ —Å Poetry.

## ‚ÅâÔ∏è –° –∫–∞–∫–∏–º–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏ —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å –∏ –∫–∞–∫ —Ä–µ—à–µ–Ω—ã

- **–ù–µ —Å–æ–≤—Å–µ–º –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–µ –¢–ó**: –Ω–µ —Å–æ–≤—Å–µ–º —Ä–∞—Å–∫—Ä—ã—Ç—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ - —Å–¥–µ–ª–∞–ª –Ω–∞ —Å–≤–æ–π –≤–∫—É—Å.
- **–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UUID/sequence –¥–ª—è PK**: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä `BigInteger` –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏, PID –∏ —Å—á–µ—Ç—á–∏–∫–∞.
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ç–æ—á–Ω—ã–π –º–æ–º–µ–Ω—Ç –¥–µ–¥–ª–∞–π–Ω–∞**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `celery beat` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –∏ —Ñ–ª–∞–≥–æ–º `is_notified`, —á—Ç–æ–±—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Telegram Bot API.
- **–°–≤—è–∑–∫–∞ Telegram-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å Django User**: –¥–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ `telegram_id`.
- **–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞**: –≤–Ω–µ–¥—Ä–µ–Ω `aiogram-dialog` —Å `ScrollingGroup` –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á, –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –¥–∏–∞–ª–æ–≥–∞–º–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
